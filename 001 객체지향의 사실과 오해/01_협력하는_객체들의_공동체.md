## 1장  협력하는 객체들의 공동체

### 협력하는 사람들

- 모든 음료 주문은 손님이 커피를 주문하고, 캐시어가 주문을 받고, 바리스타가 커피를 제조하는 과정을 거친 후에야 완료된다. 커피를 주문하고 제조하는 과정은 역할, 책임, 협력이라는 사람의 일상 속에 항상 스며들어 있는 세 가지 개념이 한데 어울려 조화를 이루며 만들어 낸 것이다.

- 감미로운 커피 맛을 음미하며 만족스럽게 자신의 자리로 돌아가는 모든 과정 속에는 손님, 캐시어, 바리스타 사이의 암묵적인 협력 관계가 존재한다.
- 커피를 주문하는 손님, 주문을 받는 캐시어, 커피를 제조하는 바리스타라는 역할이 존재하기 때문이다.
- 손님, 캐시어, 바리스타는 주문한 커피를 손님에게 제공하기 위해 협력하는 과정에서 자신이 맡은 바 책임을 다한다.
- 사람들이 협력을 위해 특정한 역할을 맡고 역할에 적합한 책임을 수행한다는 사실은 몇가지 중요한 개념을 제시한다.
  - 여러사람이 동일한 역할을 수행할 수 있다.
  - 역할은 대체 가능성을 의미한다.
  - 책임을 수행하는 방법은 자율적으로 선택할 수 있다.
  - 한 사람이 동시에 여러 역할을 수행할 수 있다.

### 역할, 책임, 협력

- 첫째, 객체는 충분히 '협력적'이어야 한다.
- 둘째, 객체는 충분히 '자율적'이어야 한다.
- 객체지향에서는 데이터와 프로세스를 객체라는 하나의 틀 안에 함께 묶어 놓음으로써 객체의 자율성을 보장한다.
- 풍부한 매커니즘을 이용해 요청하고 응답할 수 있는 인간들의 세계와 달리 객체지향의 세계에서는 오직 한 가지 의사소통 수단만이 존재한다. 이를 '메세지'라고 한다. 한 객체다 다른 객체에게 요청하는 것을 메세지를 전송한다고 말하고 다른 객체로부터 요청을 받는 것을 메세지를 수신한다고 말한다.
- 결과적으로 객체는 협력을 위해 다른 객체에게 메세지를 전송하고 다른 객체로부터 메세지를 수신한다. 따라서 객체지향의 세계에서 협력은 메세지를 전송하는 객체와 메세지를 수신하는 객체 사이의 관계로 구성된다.
- 이때 메세지를 전송하는 객체를 송신자(sender)라고 부르고, 메세지를 수신하는 객체를 수신자(receiver)라고 부른다.
- 외부의 요청이 무엇인지를 표현하는 메세지와 요청을 처리하기 위한 구체적인 방법인 메서드를 분리하는 것은 객체의 자율성을 높이는 핵심 매커니즘이다.
- 이것은 캡슐화(encapsulation)라는 개념과도 깊이 관련되어 있다.

### 객체지향의 본질

- 객체지향이란 시스템을 상호작용하는 **자율적인 객체**들의 공동체로 바라보고 객체를 이용해 시스템을 분할하는 방법이다.
- 자율적인 객체란 **상태와 행위**를 함께 지니며 스스로 자기 자신을 책임지는 객체를 의미한다.
- 객체는 시스템의 행위를 구현하기 위해 다른 객체와 **협력**한다. 각 객체는 협력 내에서 정해진 역할을 수행하며 역할은 관련 **책임의 집합**이다.
- 객체는 다른 객체와 협력하기 위해 메세지를 전송하고, **메세지**를 수신한 객체는 메세지를 처리하는 데 적합한 **메서드**를 자율적으로 선택한다.
- 훌륭한 객체 지향 설계자가 되기 위해 거쳐야 할 첫 번째 도전은 코드를 담는 클래스의 관점에서 메세지를 주고 받는 객체의 관점으로 사고의 중심을 전환하는 것이다.
- 적절한 책임을 수행하는 역할 간의 유연하고 견고한 협력 관계를 구축하는 것이다.
- 클래스의 구조와 메서드가 아니라 **객체의 역할, 책임, 협력에 집중**하라. 객체 지향은 객체를 지향하는 것이지 클래스를 지향하는 것이 아니다.